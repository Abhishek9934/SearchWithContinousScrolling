(this.webpackJsonpclassplus=this.webpackJsonpclassplus||[]).push([[0],{114:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(12),s=c.n(r),o=(c(85),c(86),c(39)),i=c(17),j=c(48),u=c.n(j),l=c(33),b=c(63),O=c(64),p=c.n(O);var f=function(e,t){var c=Object(n.useState)([]),a=Object(i.a)(c,2),r=a[0],s=a[1],o=Object(n.useState)(!0),j=Object(i.a)(o,2),O=j[0],f=j[1],d=Object(n.useState)(!1),h=Object(i.a)(d,2),g=h[0],x=h[1],m=Object(n.useState)([]),v=Object(i.a)(m,2),k=v[0],w=v[1],S=Object(n.useState)(null),C=Object(i.a)(S,2),I=C[0],y=C[1],_=Object(n.useCallback)(Object(b.a)(u.a.mark((function c(){var n,a;return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,f(!0);case 3:return c.next=5,x(!1);case 5:return I!==e&&(w([]),y(e),s((function(t){return Object(l.a)(new Set([].concat(Object(l.a)(t),[e])))}))),n=""===e?"https://www.flickr.com/services/rest/?format=json&nojsoncallback=1&api_key=".concat("9b4d386e74fbb6fded0861af04365e15","&method=flickr.photos.getRecent&page=").concat(t,"&per_page=99"):"https://www.flickr.com/services/rest/?format=json&nojsoncallback=1&api_key=".concat("9b4d386e74fbb6fded0861af04365e15","&method=flickr.photos.search&text=").concat(e,"&page=").concat(t,"&per_page=99"),c.next=9,p.a.get(n);case 9:if(a=c.sent,console.log(a.data),!(a.data&&a.data.photos&&a.data.photos.photo)){c.next=14;break}return c.next=14,w((function(e){return Object(l.a)(new Set([].concat(Object(l.a)(e),Object(l.a)(a.data.photos.photo))))}));case 14:f(!1),c.next=20;break;case 17:c.prev=17,c.t0=c.catch(0),x(c.t0);case 20:case"end":return c.stop()}}),c,null,[[0,17]])}))),[e,t,I]);return Object(n.useEffect)((function(){var t=setTimeout((function(){_(e)}),1500);return function(){return clearTimeout(t)}}),[e,_,t]),{loading:O,error:g,list:k,suggestion:r}},d=c(151),h=c(154),g=c(156),x=c(167),m=c(159),v=c(160),k=c(161),w=c(7),S=Object(d.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper}}}));function C(e){var t=S(),c=a.a.useState(""),n=Object(i.a)(c,2),r=n[0],s=n[1],o=a.a.useState(!1),j=Object(i.a)(o,2),u=j[0],l=j[1],b=function(){l(!1)};return Object(w.jsxs)("div",{className:t.root,children:[Object(w.jsx)(h.a,{cols:3,children:e.imageData&&e.imageData.map((function(e){return Object(w.jsx)(g.a,{cols:1,children:Object(w.jsx)("img",{src:"https://live.staticflickr.com/".concat(e.server,"/").concat(e.id,"_").concat(e.secret,".jpg"),alt:e.title,onClick:function(){return function(e){s("https://live.staticflickr.com/".concat(e.server,"/").concat(e.id,"_").concat(e.secret,".jpg")),l(!0)}(e)}})},e.id)}))}),Object(w.jsxs)(x.a,{open:u,onClose:b,children:[Object(w.jsx)(m.a,{children:Object(w.jsx)("img",{src:r,alt:""})}),Object(w.jsx)(v.a,{children:Object(w.jsx)(k.a,{onClick:b,color:"primary",children:"Close"})})]})]})}var I=c(162),y=c(164),_=c(163),D=c(165);var E=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(1),s=Object(i.a)(r,2),j=s[0],u=s[1],l=f(c,j),b=l.loading,O=l.error,p=l.list,d=l.suggestion,h=Object(n.useRef)(null),g=function(e){a(e.target.value)},x=Object(n.useCallback)((function(e){e[0].isIntersecting&&u((function(e){return e+1}))}),[]);return Object(n.useEffect)((function(){var e=new IntersectionObserver(x,{root:null,rootMargin:"20px",threshold:0});h.current&&e.observe(h.current)}),[x]),console.log("app",p),Object(w.jsxs)("div",{className:"App",children:[Object(w.jsx)("h1",{children:"Search Images"}),Object(w.jsxs)(I.a,{container:!0,children:[Object(w.jsx)(I.a,{item:!0,lg:4,xs:0}),Object(w.jsx)(I.a,{item:!0,lg:4,xs:12,children:Object(w.jsx)(D.a,{options:d,renderInput:function(e){return Object(w.jsx)(y.a,Object(o.a)(Object(o.a)({},e),{},{label:"Search input",margin:"normal",variant:"outlined",InputProps:Object(o.a)(Object(o.a)({},e.InputProps),{},{type:"search"}),onChange:g}))}})}),Object(w.jsx)(I.a,{item:!0,lg:4,xs:0})]}),Object(w.jsxs)(_.a,{children:[Object(w.jsx)("br",{}),Object(w.jsx)(C,{imageData:p})]}),b&&Object(w.jsx)("p",{children:"Loading..."}),O&&Object(w.jsx)("p",{children:"Error!"}),Object(w.jsx)("div",{ref:h})]})};var F=function e(){return Object(w.jsx)(E,{className:e})},P=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,169)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};c(110).config(),s.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(F,{})}),document.getElementById("root")),P()},85:function(e,t,c){},86:function(e,t,c){}},[[114,1,2]]]);
//# sourceMappingURL=main.308e20a4.chunk.js.map